(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,g=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&g.push(s[i][0]),s[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(g.length)g.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},s={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0014":function(e,t,n){e.exports=n.p+"img/music-logo.e1e193dd.png"},"0442":function(e,t,n){},"0a84":function(e,t,n){"use strict";n("c66d")},"1e79":function(e,t,n){},"205d":function(e,t,n){},"211e":function(e,t,n){},2395:function(e,t,n){},2446:function(e,t,n){"use strict";n("205d")},"2e09":function(e,t,n){"use strict";n("8ed7")},"3a4c":function(e,t,n){"use strict";n("1e79")},"400b":function(e,t,n){},4533:function(e,t,n){"use strict";n("400b")},"51e0":function(e,t,n){},5585:function(e,t,n){"use strict";n("9d29")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("4de4"),n("4d90"),n("99af"),n("a9e3"),n("25f0"),n("b680"),n("ac1f"),n("5319");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-view")],1)},r=[],i={},o=i,c=(n("7c55"),n("2877")),l=Object(c["a"])(o,s,r,!1,null,null,null),u=l.exports,d=(n("46a1"),n("450d"),n("e5f2")),g=n.n(d),f=(n("0fb7"),n("f529")),m=n.n(f),p=(n("8bd8"),n("4cb2")),v=n.n(p),h=(n("4ca3"),n("443e")),b=n.n(h),w=(n("672e"),n("101e")),_=n.n(w),y=(n("a7cc"),n("df33")),k=n.n(y),x=(n("06f1"),n("6ac9")),S=n.n(x),C=(n("5466"),n("ecdf")),I=n.n(C),$=(n("38a0"),n("ad41")),L=n.n($),U=(n("e612"),n("dd87")),N=n.n(U),R=(n("075a"),n("72aa")),O=n.n(R),D=(n("186a"),n("301f")),j=n.n(D),z=(n("96dc"),n("9cea")),M=n.n(z),q=(n("eca7"),n("3787")),F=n.n(q),V=(n("425f"),n("4105")),E=n.n(V),P=(n("1951"),n("eedf")),T=n.n(P),B=(n("10cb"),n("f3ad")),A=n.n(B);n("0fae");a["default"].use(A.a),a["default"].use(T.a),a["default"].use(E.a),a["default"].use(F.a),a["default"].use(M.a),a["default"].use(j.a),a["default"].use(O.a),a["default"].use(N.a),a["default"].use(L.a),a["default"].use(I.a),a["default"].use(S.a),a["default"].use(k.a),a["default"].use(_.a),a["default"].use(b.a),a["default"].use(v.a),a["default"].prototype.$message=m.a,a["default"].prototype.$notify=g.a;var W=n("8c4f"),H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Top"),n("div",{staticClass:"main"},[n("Aside"),n("Main")],1),n("Footer"),n("div",{staticClass:"info"},[n("el-button",{staticClass:"info-btn",attrs:{plain:""},on:{click:e.open1}},[e._v("1")])],1),n("div",{staticClass:"info"},[n("el-button",{staticClass:"info-btn",attrs:{plain:""},on:{click:e.open2}},[e._v("2")])],1)],1)},Q=[],K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-nav"},[n("div",{staticClass:"logo"},[n("h1",[n("router-link",{attrs:{to:"/"}},[e._v("a")])],1),n("ul",[n("li",[n("a",{on:{click:function(t){return e.$router.back(-1)}}},[n("i",{staticClass:"el-icon-arrow-left"})])]),n("li",[n("a",{on:{click:function(t){return e.$router.forward(1)}}},[n("i",{staticClass:"el-icon-arrow-right"})])])]),n("el-input",{attrs:{placeholder:"搜索歌曲",size:"small","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchSingByName.apply(null,arguments)}},model:{value:e.keyWords,callback:function(t){e.keyWords=t},expression:"keyWords"}})],1),n("div",{staticClass:"intro"},[e.userInfo?n("div",{staticClass:"user"},[n("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[n("div",{staticClass:"show-box"},[n("div",{staticClass:"gender"},[n("h3",[e._v(e._s(e.userInfo.gender))]),n("p",[e._v("动态")])]),n("div",{staticClass:"new-follows"},[n("h3",[e._v(e._s(e.userInfo.newFollows))]),n("p",[e._v("关注")])]),n("div",{staticClass:"follow-eds"},[n("h3",[e._v(e._s(e.userInfo.followeds))]),n("p",[e._v("粉丝")])])]),n("div",{staticClass:"level"},[n("ul",[n("li",[n("i",{staticClass:"el-icon-s-flag"},[e._v("介绍：")]),e._v(" "),n("span",[e._v(e._s(e.userInfo.signature))])])])]),n("template",{slot:"reference"},[n("div",[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.userInfo.avatarUrl,expression:"userInfo.avatarUrl"}],attrs:{alt:""}}),n("span",[e._v(e._s(e.userInfo.nickname))])])])],2)],1):e._e(),n("ul",[e.loginFlag?n("li",[n("router-link",{attrs:{to:"/login"}},[n("el-button",{attrs:{type:"primary",size:"small"}},[e._v("登录")])],1)],1):e._e(),n("li",[n("el-button",{attrs:{type:"info",size:"small"},on:{click:e.quit}},[e._v("退出")])],1)])])])},Y=[],J=n("1da1"),G=(n("96cf"),{computed:{loginFlag:function(){return!localStorage.getItem("UserId")}},mounted:function(){this.getUserList()},data:function(){return{username:"春夏秋冬里的你",keyWords:"",userInfo:{}}},methods:{searchSingByName:function(){this.$router.push({name:"search",query:{key:this.keyWords}})},getUserList:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/user/detail?uid=".concat(localStorage.getItem("UserId")),{cookie:encodeURIComponent(window.sessionStorage.getItem("cookie"))});case 2:n=t.sent,a=n.data,e.userInfo=a.profile;case 5:case"end":return t.stop()}}),t)})))()},quit:function(){window.sessionStorage.clear(),window.localStorage.removeItem("UserId"),window.localStorage.removeItem("activeName"),this.$router.push("/login")}}}),X=G,Z=(n("82af"),Object(c["a"])(X,K,Y,!1,null,"7c0d0138",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"default-active":e.activeName,"background-color":"#fff","active-text-color":"#ff82a4"},on:{select:e.getIndex}},e._l(e.menuList,(function(t){return n("el-menu-item",{key:t.id,attrs:{index:t.index}},[n("span",[e._v(e._s(t.title))])])})),1)],1)},ne=[],ae={created:function(){this.activeName=window.localStorage.getItem("activeName")},watch:{$route:function(e){window.localStorage.setItem("activeName",e.path),this.activeName=e.path}},data:function(){return{activeName:"",menuList:[{id:1,index:"/doc/intro",title:"个性推荐"},{id:2,index:"/doc/newsong",title:"最新音乐"},{id:3,index:"/doc/singer",title:"歌手推荐"},{id:4,index:"/doc/newmv",title:"视频"}]}},methods:{getIndex:function(e){window.localStorage.setItem("activeName",e),this.activeName=e}}},se=ae,re=(n("98c1"),Object(c["a"])(se,te,ne,!1,null,"6a286568",null)),ie=re.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("router-view")],1)},ce=[],le={},ue=le,de=(n("4533"),Object(c["a"])(ue,oe,ce,!1,null,"32fae68f",null)),ge=de.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer"},[n("audio",{attrs:{src:e.audioUrl,controls:"",autoplay:""}})])},me=[],pe={mounted:function(){this.$bus.$on("sendSangUrl",this.getSangUrl)},methods:{getSangUrl:function(e){this.audioUrl=e}},data:function(){return{audioUrl:""}}},ve=pe,he=(n("5585"),Object(c["a"])(ve,fe,me,!1,null,"3875a6ce",null)),be=he.exports,we={components:{Top:ee,Aside:ie,Main:ge,Footer:be},data:function(){return{isFlag:!!localStorage.getItem("UserId")}},methods:{open1:function(){this.$createElement;this.$notify.info({title:"提示",dangerouslyUseHTMLString:!0,message:'<strong>本项目大部分功能需要登陆之后才可以正常使用！<br/>先进行<a style="color:rgb(252, 94, 136)" href="#/login"><i>登录/注册</i></a> 再重新体验吧！</strong>',offset:100})},open2:function(){this.$notify({title:"成功",dangerouslyUseHTMLString:!0,message:"<strong>恭喜您！登陆成功，请体验！</strong>",type:"success",offset:100})}},mounted:function(){this.isFlag?this.open2():this.open1()},watch:{}},_e=we,ye=(n("d270"),Object(c["a"])(_e,H,Q,!1,null,"3b559f8b",null)),ke=ye.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-song"},[n("h2",[e._v("最新音乐")]),n("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{"show-header":!1,stripe:"",data:e.newSongList,"highlight-current-row":""},on:{"row-dblclick":e.searchSingById}},[n("el-table-column",{attrs:{align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-video-play",on:{click:function(n){return e.searchSingById(t.row)}}})]}}])}),n("el-table-column",{attrs:{align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.row.album.blurPicUrl,expression:"scope.row.album.blurPicUrl"}],staticClass:"blur-img",attrs:{alt:""}})]}}])}),n("el-table-column",{attrs:{label:"名称",width:"450"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"song-name"},[e._v(" "+e._s(t.row.name)+" ")])]}}])}),n("el-table-column",{attrs:{label:"歌手",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"singer-name"},[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.row.artists[0].id}}}},[e._v(e._s(t.row.artists[0].name))])],1)]}}])}),n("el-table-column",{attrs:{label:"专辑"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"song-time"},[e._v(" "+e._s(t.row.album.name)+" ")])]}}])}),n("el-table-column",{attrs:{label:"时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"song-time"},[e._v(" "+e._s(e._f("timeFormat")(t.row.duration))+" ")])]}}])})],1)],1)},Se=[],Ce={data:function(){return{newSongList:[],sangInfo:[]}},methods:{getNewSong:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/top/song?type=0");case 2:if(n=t.sent,a=n.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取最新歌曲列表失败，请刷新重试！"));case 6:e.newSongList=a.data;case 7:case"end":return t.stop()}}),t)})))()},searchSingById:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=14;break}return t.$message.info("没有查询到登录信息！请登录体验完整功能！"),n.next=4,t.$http.post("/song/url?id=".concat(e.id));case 4:if(a=n.sent,s=a.data,200===s.code){n.next=8;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录或者刷新重试！"));case 8:if(t.sangInfo=s.data[0],200==t.sangInfo.code){n.next=11;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 11:t.$bus.$emit("sendSangUrl",t.sangInfo.url),n.next=24;break;case 14:return n.next=16,t.$http.post("/song/url?id=".concat(e.id),{cookie:window.sessionStorage.getItem("cookie")});case 16:if(r=n.sent,i=r.data,200===i.code){n.next=20;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录或者刷新重试！"));case 20:if(t.sangInfo=i.data[0],200==t.sangInfo.code){n.next=23;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 23:t.$bus.$emit("sendSangUrl",t.sangInfo.url);case 24:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.getNewSong()}},Ie=Ce,$e=(n("6b40"),Object(c["a"])(Ie,xe,Se,!1,null,"679dcf71",null)),Le=$e.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new-mv"},[n("h2",[e._v("最新MV")]),n("div",{staticClass:"video"},e._l(e.newMvList,(function(t){return n("div",{key:t.id,staticClass:"video-small"},[n("div",{staticClass:"video-img"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"item.cover"}],attrs:{alt:""},on:{click:function(n){return e.showMvDialog(t.id)}}}),n("div",{staticClass:"screen"},[n("i",{staticClass:"el-icon-video-play"}),e._v(" "+e._s(e._f("numberTextFormat")(t.playCount)))])]),n("div",{staticClass:"video-info"},[n("p",{staticClass:"video-keywords"},[n("span",[e._v("MV")]),e._v(e._s(t.name))]),n("p",{staticClass:"singer"},[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.artistId}}}},[e._v(e._s(t.artistName))])],1)])])})),0),n("el-dialog",{attrs:{visible:e.mvDialogVisible,"close-on-click-modal":!1,close:e.closeEvent,width:"50%"},on:{"update:visible":function(t){e.mvDialogVisible=t}}},[e.mvDialogVisible?n("video",{attrs:{autoplay:"",src:e.mvInfo.url,controls:""}}):e._e()])],1)},Ne=[],Re={data:function(){return{newMvList:[],mvDialogVisible:!1,mvInfo:[]}},methods:{getNewMv:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/mv/first?limit=32");case 2:if(n=t.sent,a=n.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取最新mv失败！请刷新或者登录重试！"));case 6:e.newMvList=a.data;case 7:case"end":return t.stop()}}),t)})))()},showMvDialog:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.mvDialogVisible=!0,n.next=3,t.$http.get("/mv/url?id="+e);case 3:a=n.sent,s=a.data,t.mvInfo=s.data;case 6:case"end":return n.stop()}}),n)})))()},closeEvent:function(){this.mvDialogVisible=!1}},mounted:function(){this.getNewMv()}},Oe=Re,De=(n("7a80"),Object(c["a"])(Oe,Ue,Ne,!1,null,"03858dbb",null)),je=De.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"markdown-body"},[n("div",{staticClass:"start"},[n("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},e._l(e.newestList,(function(e){return n("el-carousel-item",{key:e.id},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""}})])})),1)],1),n("div",{staticClass:"recommend"},[e._m(0),n("div",{staticClass:"big-box"},e._l(e.personalizedList,(function(t){return n("div",{key:t.id,staticClass:"small-box"},[n("router-link",{attrs:{to:{path:"/doc/recommend",query:{id:t.id}}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),n("p",[e._v(e._s(t.name))])]),n("div",{staticClass:"screen"},[n("i",{staticClass:"el-icon-video-play"}),e._v(" "+e._s(e._f("numberTextFormat")(t.playCount)))])],1)})),0)])])},Me=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("推荐歌单 "),n("i",{staticClass:"el-icon-arrow-right"})])}],qe={data:function(){return{newestList:[],personalizedList:[]}},methods:{getNewest:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("banner?type=0");case 2:n=t.sent,a=n.data,e.newestList=a.banners;case 5:case"end":return t.stop()}}),t)})))()},getPersonalized:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("personalized?limit=10");case 2:n=t.sent,a=n.data,e.personalizedList=a.result;case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getNewest(),this.getPersonalized()}},Fe=qe,Ve=(n("0a84"),Object(c["a"])(Fe,ze,Me,!1,null,"4baba0f6",null)),Ee=Ve.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"singer"},[n("h2",[e._v("热门歌手")]),n("div",{staticClass:"sing-type"},[n("div",{staticClass:"lang-type"},[n("p",[e._v("语种：")]),n("ul",e._l(e.language,(function(t){return n("li",{key:t.id,on:{click:function(n){return e.toggleActive(t)}}},[n("router-link",{class:t.class,attrs:{to:""}},[e._v(e._s(t.name))])],1)})),0)]),n("div",{staticClass:"classify-type"},[n("p",[e._v("分类：")]),n("ul",e._l(e.type,(function(t){return n("li",{key:t.id,on:{click:function(n){return e.toggleTypeActive(t)}}},[n("router-link",{class:t.class,attrs:{to:""}},[e._v(e._s(t.name))])],1)})),0)]),n("div",{staticClass:"sing-list"},e._l(e.singerList,(function(t){return n("div",{key:t.id,staticClass:"singer-box"},[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img1v1Url,expression:"item.img1v1Url"}],attrs:{alt:""}})]),n("p",[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[e._v(" "+e._s(t.name))])],1)],1)})),0)])])},Te=[],Be=(n("159b"),{data:function(){return{singerList:[],activeName:"",areaId:-1,language:[{id:1,class:"active-type",name:"全部",area:"all",n:-1},{id:2,class:"",name:"华语",area:"china",n:7},{id:3,class:"",name:"欧美",area:"west",n:96},{id:4,class:"",name:"日本",area:"jap",n:8},{id:5,class:"",name:"韩国",area:"korea",n:16},{id:6,class:"",name:"其他",area:"other",n:0}],typeId:-1,type:[{id:1,class:"active-type",name:"全部",value:"all",n:-1},{id:2,class:"",name:"男歌手",value:"male",n:1},{id:3,class:"",name:"女歌手",value:"female",n:2}]}},watch:{areaId:function(){this.getSingerList()},typeId:function(){this.getSingerList()}},methods:{toggleActive:function(e){this.areaId=e.n,this.language.forEach((function(t){t.class="",t.id==e.id&&(t.class="active-type")}))},toggleTypeActive:function(e){this.typeId=e.n,this.type.forEach((function(t){t.class="",t.id==e.id&&(t.class="active-type")}))},getSingerList:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/artist/list?type=".concat(e.typeId,"&area=").concat(e.areaId));case 2:if(n=t.sent,a=n.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取歌手列表失败，请刷新重试！"));case 6:e.singerList=a.artists;case 7:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getSingerList()}}),Ae=Be,We=(n("8b0b"),Object(c["a"])(Ae,Pe,Te,!1,null,"d26a4612",null)),He=We.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"singer-info"},[a("div",{staticClass:"singer-top"},[a("img",{attrs:{src:e.artistList.img1v1Url,alt:""}}),a("div",{staticClass:"singer-details"},[a("h2",[e._v(e._s(e.artistList.name))]),a("p",{staticClass:"english-name"},[e._v(e._s(e.alias))]),a("div",{staticClass:"songs-info"},[a("p",[e._v("单曲数:"+e._s(e.artistList.musicSize))]),a("p",[e._v("专辑:"+e._s(e.artistList.albumSize))]),a("p",[e._v("MV:"+e._s(e.artistList.mvSize))])]),a("p",{staticClass:"singer-intro",on:{click:e.showSingerIntro}},[e._v(e._s(e.artistList.briefDesc))])])]),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"歌曲列表",name:"singleSing"}},[a("div",{staticClass:"list-box"},[a("img",{staticStyle:{width:"150px",height:"150px"},attrs:{src:n("ef5a"),alt:""}}),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{"show-header":!1,stripe:"",data:e.singerHotSongsList,"highlight-current-row":""},on:{"row-dblclick":e.searchSingById}},[a("el-table-column",{attrs:{align:"center",width:"40",type:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-video-play",on:{click:function(n){return e.searchSingById(t.row)}}})]}}])}),a("el-table-column",{attrs:{label:"音乐标题",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"song-name"},[e._v(" "+e._s(t.row.name)+" ")])]}}])}),a("el-table-column",{attrs:{label:"时间",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"song-time"},[e._v(" "+e._s(e._f("timeFormat")(t.row.dt))+" ")])]}}])})],1)],1)]),a("el-tab-pane",{attrs:{label:"MV",name:"video"}},[a("div",{staticClass:"video"},e._l(e.singerMvList,(function(t){return a("div",{key:t.id,staticClass:"video-small"},[a("div",{staticClass:"video-img"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"item.cover"}],attrs:{alt:""},on:{click:function(n){return e.showMvDialog(t.id)}}}),a("div",{staticClass:"screen"},[a("i",{staticClass:"el-icon-video-play"}),e._v(" "+e._s(e._f("numberTextFormat")(t.playCount)))]),a("div",{staticClass:"time-screen"},[a("i",{staticClass:"el-icon-time-play"}),e._v(" "+e._s(e._f("timeFormat")(t.duration)))])]),a("div",{staticClass:"video-info"},[a("p",{staticClass:"video-keywords"},[a("span",[e._v("MV")]),e._v(e._s(t.name))])])])})),0)])],1),a("el-dialog",{attrs:{visible:e.singerIntroDialogVisible,width:"50%",close:e.singerIntroClose},on:{"update:visible":function(t){e.singerIntroDialogVisible=t}}},[a("span",[e._v(e._s(e.artistList.briefDesc))])]),a("el-dialog",{staticClass:"mv-dialog",attrs:{visible:e.mvDialogVisible,"close-on-click-modal":!1,close:e.closeEvent,width:"50%"},on:{"update:visible":function(t){e.mvDialogVisible=t}}},[e.mvDialogVisible?a("video",{attrs:{autoplay:"",src:e.mvInfo.url,controls:""}}):e._e()])],1)},Ke=[],Ye=(n("b0c0"),{watch:{activeName:function(e){"video"==e&&this.getSingerMv()}},data:function(){return{activeName:"singleSing",singerInfo:[],artistList:[],singerIntroDialogVisible:!1,mvDialogVisible:!1,singerHotSongsList:[],alias:"",artistName:"",singerMvList:[],mvInfo:[]}},mounted:function(){this.getUserSongs()},methods:{searchSingById:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=14;break}return t.$message.info("获取列表失败！请查看是否登录！"),n.next=4,t.$http.post("/song/url?id=".concat(e.id));case 4:if(a=n.sent,s=a.data,200===s.code){n.next=8;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 8:if(t.sangInfo=s.data,200==t.sangInfo[0].code){n.next=11;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 11:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url),n.next=24;break;case 14:return n.next=16,t.$http.post("/song/url?id=".concat(e.id),{cookie:window.sessionStorage.getItem("cookie")});case 16:if(r=n.sent,i=r.data,200===i.code){n.next=20;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 20:if(t.sangInfo=i.data,200==t.sangInfo[0].code){n.next=23;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 23:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url);case 24:case"end":return n.stop()}}),n)})))()},getUserSongs:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/artists?id=".concat(e.$route.query.id));case 2:if(n=t.sent,a=n.data,200===a.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取歌手信息失败，请刷新重试！"));case 6:e.artistList=a.artist,0==a.artist.alias.length||(e.alias=a.artist.alias[0]),e.singerHotSongsList=a.hotSongs,e.artistName=a.artist.name;case 10:case"end":return t.stop()}}),t)})))()},getSingerMv:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/search?keywords=".concat(e.artistName,"&type=1004&limit=100"));case 2:n=t.sent,a=n.data,e.singerMvList=a.result.mvs;case 5:case"end":return t.stop()}}),t)})))()},showSingerIntro:function(){this.singerIntroDialogVisible=!0},singerIntroClose:function(){},showMvDialog:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.mvDialogVisible=!0,n.next=3,t.$http.get("/mv/url?id="+e);case 3:a=n.sent,s=a.data,t.mvInfo=s.data;case 6:case"end":return n.stop()}}),n)})))()},closeEvent:function(){this.mvDialogVisible=!1}}}),Je=Ye,Ge=(n("2e09"),Object(c["a"])(Je,Qe,Ke,!1,null,"1a354b06",null)),Xe=Ge.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search"},[n("h3",[e._v(" 找到 "),n("span",[e._v(e._s(e.showTitle))]),e._v(" "+e._s(e.toggleWords)+" ")]),n("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"单曲",name:"singleSing"}},[e.isFlag?n("p",[e._v("最佳匹配")]):e._e(),n("router-link",{staticClass:"singer-link",attrs:{to:{name:"singerinfo",query:{id:e.sangUserInfo.id}}}},[e.isFlag?n("div",{staticClass:"singer-box"},[n("img",{attrs:{src:e.sangUserInfo.picUrl,alt:""}}),n("p",[e._v(" 歌手："+e._s(e.sangUserInfo.name)+" "),e._l(e.sangUserInfo.alias,(function(t,a){return n("span",{key:a},[e._v(" "+e._s(t))])})),e._v(" "),n("i",{staticClass:"el-icon-arrow-right"})],2)]):e._e()]),n("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.sangList.songs,"highlight-current-row":""},on:{"row-dblclick":e.searchSingById}},[n("el-table-column",{attrs:{align:"center",property:"",width:"50",type:"index"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-video-play",on:{click:function(n){return e.searchSingById(t.row)}}})]}}])}),n("el-table-column",{attrs:{label:"音乐标题",width:"450"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"song-name"},[e._v(" "+e._s(t.row.name)+" ")])]}}])}),n("el-table-column",{attrs:{label:"歌手",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"singer-name"},[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.row.artists[0].id}}}},[e._v(e._s(t.row.artists[0].name))])],1)]}}])}),n("el-table-column",{attrs:{label:"专辑"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",[e._v(" "+e._s(t.row.album.name)+" ")])]}}])}),n("el-table-column",{attrs:{label:"时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"song-time"},[e._v(" "+e._s(e._f("timeFormat")(t.row.duration))+" ")])]}}])})],1)],1),n("el-tab-pane",{attrs:{label:"评论",name:"comment"}},e._l(e.commentsList,(function(t){return n("div",{key:t.commentId,staticClass:"comment-box"},[n("img",{attrs:{src:t.user.avatarUrl,alt:""}}),n("div",{staticClass:"content-box"},[n("p",[n("a",{attrs:{href:"#"}},[e._v(e._s(t.user.nickname)+"：")]),n("span",[e._v(e._s(t.content))])]),n("p",{staticClass:"publishTime"},[e._v(e._s(t.timeStr)),n("i")])])])})),0),n("el-tab-pane",{attrs:{label:"视频(MV)",name:"video"}},[n("div",{staticClass:"video"},e._l(e.wordsMvList.mvs,(function(t){return n("div",{key:t.id,staticClass:"video-small"},[n("div",{staticClass:"video-img"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"item.cover"}],attrs:{alt:""},on:{click:function(n){return e.showMvDialog(t.id)}}}),n("div",{staticClass:"screen"},[n("i",{staticClass:"el-icon-video-play"}),e._v(" "+e._s(e._f("numberTextFormat")(t.playCount)))]),n("div",{staticClass:"time-screen"},[n("i",{staticClass:"el-icon-time-play"}),e._v(" "+e._s(e._f("timeFormat")(t.duration)))])]),n("div",{staticClass:"video-info"},[n("p",{staticClass:"video-keywords"},[n("span",[e._v("MV")]),e._v(e._s(t.name))]),n("p",{staticClass:"singer"},[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.artistId}}}},[e._v(e._s(t.artistName))])],1)])])})),0),n("el-dialog",{attrs:{visible:e.mvDialogVisible,close:e.closeEvent,width:"50%"},on:{"update:visible":function(t){e.mvDialogVisible=t}}},[e.mvDialogVisible?n("video",{attrs:{autoplay:"",src:e.mvInfo.url,controls:""}}):e._e()])],1)],1)],1)},et=[],tt={mounted:function(){this.keyId=this.$router.currentRoute.query.key,this.getUserList(this.$router.currentRoute.query.key)},updated:function(){},data:function(){return{sangUserInfo:[],activeName:"singleSing",sangList:{},isFlag:!1,sangInfo:[],firstSangId:"",commentsList:[],keyId:"",toggleWords:"首单曲",wordsMvList:[],mvDialogVisible:!1,mvInfo:[]}},watch:{$route:function(e,t){this.keyId=e.query.key,t.query.key&&(this.activeName="singleSing",this.getUserList(e.query.key))},keyId:function(e){},activeName:function(e){if("comment"==e)this.getSangComment();else if("singleSing"==e){if(this.sangList)return;this.getUserList(this.$router.currentRoute.query.key)}else"video"==e&&this.getSangMv()},mvDialogVisible:function(e){"false"==e&&this.$refs.vueMiniPlayer.pause()}},methods:{getUserList:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i,o,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=17;break}return t.$message.info("获取列表失败！请查看是否登录！"),n.next=4,t.$http.post("search/multimatch?keywords=".concat(e,"&timestamp=").concat(new Date));case 4:return a=n.sent,s=a.data,n.next=8,t.$http.get("search?keywords=".concat(e,"&timestamp=").concat(new Date));case 8:if(r=n.sent,i=r.data,200===s.code){n.next=12;break}return n.abrupt("return",t.$message.info("请先登录！"));case 12:if(200===i.code){n.next=14;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 14:0==s.result.orders.length||"artist"!==s.result.orders[0]?(t.isFlag=!1,t.sangList=i.result):(t.isFlag=!0,t.sangUserInfo=s.result.artist[0],t.sangList=i.result,t.firstSangId=t.sangList.songs[0].id),n.next=30;break;case 17:return n.next=19,t.$http.post("search/multimatch?keywords=".concat(e,"&timestamp=").concat(new Date),{cookie:window.sessionStorage.getItem("cookie")});case 19:return o=n.sent,c=o.data,n.next=23,t.$http.get("search?keywords=".concat(e,"&timestamp=").concat(new Date));case 23:if(l=n.sent,u=l.data,200===c.code){n.next=27;break}return n.abrupt("return",t.$message.info("请先登录！"));case 27:if(200===u.code){n.next=29;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 29:0==c.result.orders.length||"artist"!==c.result.orders[0]?(t.isFlag=!1,t.sangList=u.result):(t.isFlag=!0,t.sangUserInfo=c.result.artist[0],t.sangList=u.result,t.firstSangId=t.sangList.songs[0].id);case 30:case"end":return n.stop()}}),n)})))()},searchSingById:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=14;break}return t.$message.info("获取列表失败！请查看是否登录！"),n.next=4,t.$http.post("/song/url?id=".concat(e.id));case 4:if(a=n.sent,s=a.data,200===s.code){n.next=8;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 8:if(t.sangInfo=s.data,200==t.sangInfo[0].code){n.next=11;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 11:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url),n.next=24;break;case 14:return n.next=16,t.$http.post("/song/url?id=".concat(e.id),{cookie:encodeURIComponent(window.sessionStorage.getItem("cookie"))});case 16:if(r=n.sent,i=r.data,200===i.code){n.next=20;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 20:if(t.sangInfo=i.data,200==t.sangInfo[0].code){n.next=23;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 23:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url);case 24:case"end":return n.stop()}}),n)})))()},handleClick:function(){},getSangComment:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("comment/music?id=".concat(e.firstSangId,"&limit=20"));case 2:n=t.sent,a=n.data,e.commentsList=a.comments;case 5:case"end":return t.stop()}}),t)})))()},getSangMv:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/search?keywords=".concat(e.keyId,"&type=1004&limit=100"));case 2:n=t.sent,a=n.data,e.wordsMvList=a.result;case 5:case"end":return t.stop()}}),t)})))()},showMvDialog:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.mvDialogVisible=!0,n.next=3,t.$http.get("/mv/url?id="+e);case 3:a=n.sent,s=a.data,t.mvInfo=s.data;case 6:case"end":return n.stop()}}),n)})))()},closeEvent:function(){this.showMvDialog=!1,this.$refs.vueMiniPlayer.pause()}},computed:{showTitle:function(){return"singleSing"==this.activeName?(this.toggleWords="首单曲",this.sangList.songCount):"comment"==this.activeName?(this.toggleWords="条评论",this.commentsList.length):(this.toggleWords="个MV",this.wordsMvList.mvCount)}},beforeDestroy:function(){}},nt=tt,at=(n("2446"),Object(c["a"])(nt,Ze,et,!1,null,"543046b0",null)),st=at.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.tableData?n("div",{staticClass:"cmd-showSing"},[n("img",{attrs:{src:e.tableData.coverImgUrl,alt:""}}),n("div",{staticClass:"cmd-content"},[n("h2",[n("span",[e._v("歌单")]),e._v(" "+e._s(e.tableData.name))]),e.tableData?n("p",{staticClass:"first-p"},[n("img",{attrs:{src:e.avatarUrl,alt:""}}),n("span",[e._v(e._s(e.nickname)+" ")]),e._v(" "+e._s(e._f("dataFormat")(e.tableData.createTime))+"创建 ")]):e._e(),n("div",{staticClass:"btn-arr"},[n("el-button",{attrs:{type:"primary",round:"",size:"small"}},[n("i",{staticClass:"el-icon-video-play"}),e._v("播放全部")]),n("el-button",{attrs:{round:"",size:"small"}},[n("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("收藏")]),n("el-button",{attrs:{round:"",size:"small"}},[n("i",{staticClass:"el-icon-share"}),e._v("分享")]),n("el-button",{attrs:{round:"",size:"small"}},[n("i",{staticClass:"el-icon-download"}),e._v("下载")])],1),e.tagsFlag?n("p",[e._v(" 标签:"),e._l(e.tableData.tags,(function(t,a){return n("span",{key:a},[e._v(e._s(a+1==e.tagsList.length?t:t+"/"))])}))],2):e._e(),n("p",[e._v(" 歌曲:"+e._s(e.tableData.trackCount)+" "),n("span",[e._v("播放:"+e._s(e.tableData.playCount))])]),n("p",[e._v("简介："+e._s(e.tableData.description))])])]):n("div",{},[n("h2",[e._v("正在加载中....")])]),e.allSingList?n("div",[n("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"歌曲列表",name:"singleSing"}},[n("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.allSingList.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),"highlight-current-row":""},on:{"row-dblclick":e.searchSingById}},[n("el-table-column",{attrs:{align:"center",width:"50",type:"index"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("i",{staticClass:"el-icon-video-play",on:{click:function(n){return e.searchSingById(t.row)}}})]}}],null,!1,2728247542)}),n("el-table-column",{attrs:{label:"音乐标题",width:"450"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"song-name"},[e._v(" "+e._s(t.row.name)+" ")])]}}],null,!1,805811407)}),n("el-table-column",{attrs:{label:"歌手",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"singer-name"},[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.row.ar[0].id}}}},[e._v(e._s(t.row.ar[0].name))])],1)]}}],null,!1,972425076)}),n("el-table-column",{attrs:{label:"专辑"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"song-time"},[e._v(" "+e._s(t.row.al.name)+" ")])]}}],null,!1,997791678)}),n("el-table-column",{attrs:{label:"时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"song-time"},[e._v(" "+e._s(e._f("timeFormat")(t.row.dt))+" ")])]}}],null,!1,3290796805)})],1),n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.allSingList.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("el-tab-pane",{attrs:{label:"评论",name:"comment"}},e._l(e.commentsList,(function(t){return n("div",{key:t.commentId,staticClass:"comment-box"},[n("img",{attrs:{src:t.user.avatarUrl,alt:""}}),n("div",{staticClass:"content-box"},[n("p",[n("a",{attrs:{href:"#"}},[e._v(e._s(t.user.nickname)+"：")]),n("span",[e._v(e._s(t.content))])]),n("p",{staticClass:"publishTime"},[e._v(e._s(t.timeStr)),n("i")])])])})),0)],1)],1):e._e()])},it=[],ot=n("ade3"),ct={props:["id"],computed:{tagsFlag:function(){return 0!=this.tagsList.length}},mounted:function(){this.keyId=this.$router.currentRoute.query.id},watch:{activeName:function(e){"comment"==e&&this.getSangComment()}},data:function(){return{keyId:"",activeName:"singleSing",tableData:"",avatarUrl:"",nickname:"",allSingList:"",currentPage:1,pagesize:10,commentsList:[],tagsList:[]}},methods:Object(ot["a"])({getSangComment:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/comment/playlist?id=".concat(e.keyId,"&limit=20"));case 2:n=t.sent,a=n.data,e.commentsList=a.comments;case 5:case"end":return t.stop()}}),t)})))()},handleClick:function(e,t){},handleCurrentChange:function(){},getAllSingList:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("playlist/detail?id=".concat(e.$route.query.id));case 2:n=t.sent,a=n.data,e.tableData=a.playlist,e.tagsList=a.playlist.tags,e.avatarUrl=a.playlist.creator.avatarUrl,e.nickname=a.playlist.creator.nickname,console.log(e.tableData);case 9:case"end":return t.stop()}}),t)})))()},getAllSing:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){t.next=11;break}return e.$message.info("没有查询到登录信息！请登录体验完整功能！"),t.next=4,e.$http.post("/playlist/track/all?id=".concat(e.$route.query.id));case 4:if(n=t.sent,a=n.data,200===a.code){t.next=8;break}return t.abrupt("return",e.$message.info("获取列表失败！请查看是否登录！"));case 8:e.allSingList=a.songs,t.next=18;break;case 11:return t.next=13,e.$http.post("/playlist/track/all?id=".concat(e.$route.query.id),{cookie:window.sessionStorage.getItem("cookie")});case 13:if(s=t.sent,r=s.data,200===r.code){t.next=17;break}return t.abrupt("return",e.$message.info("获取列表失败！请查看是否登录！"));case 17:e.allSingList=r.songs;case 18:case"end":return t.stop()}}),t)})))()},searchSingById:function(e){var t=this;return Object(J["a"])(regeneratorRuntime.mark((function n(){var a,s,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=14;break}return t.$message.info("没有查询到登录信息！请登录体验完整功能！"),n.next=4,t.$http.post("/song/url?id=".concat(e.id));case 4:if(a=n.sent,s=a.data,200===s.code){n.next=8;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 8:if(t.sangInfo=s.data,200==t.sangInfo[0].code){n.next=11;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 11:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url),n.next=24;break;case 14:return n.next=16,t.$http.post("/song/url?id=".concat(e.id),{cookie:window.sessionStorage.getItem("cookie")});case 16:if(r=n.sent,i=r.data,200===i.code){n.next=20;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 20:if(t.sangInfo=i.data,200==t.sangInfo[0].code){n.next=23;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 23:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url);case 24:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(e){this.pagesize=e}},"handleCurrentChange",(function(e){this.currentPage=e})),created:function(){this.getAllSingList(),this.getAllSing()},beforeDestroy:function(){}},lt=ct,ut=(n("84c9"),Object(c["a"])(lt,rt,it,!1,null,"4d2f5df9",null)),dt=ut.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[e._m(0),n("div",{staticClass:"login_box"},[n("div",{staticClass:"qr-box"},[n("vue-qr",{attrs:{logoSrc:e.config.imagePath,text:e.config.qrImgUrl,size:220}}),n("p",[e._v("打开网易云音乐APP扫码登录")])],1),n("div",{staticClass:"form-box"},[n("div",{staticClass:"input-s"},[n("el-input",{attrs:{placeholder:"手机号","prefix-icon":"iconfont icon-3702mima"},model:{value:e.cellphone,callback:function(t){e.cellphone=t},expression:"cellphone"}},[n("i",{staticClass:"el-input__icon el-icon-phone",attrs:{slot:"prefix"},slot:"prefix"})]),n("el-input",{attrs:{placeholder:"密码",type:"password","prefix-icon":"iconfont icon-3702mima"},model:{value:e.rulesNum,callback:function(t){e.rulesNum=t},expression:"rulesNum"}},[n("i",{staticClass:"el-input__icon el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("div",{staticClass:"btn-s"},[n("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),n("el-button",{attrs:{plain:""},on:{click:e.register}},[e._v("注册")])],1)])])])},ft=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-aside"},[a("img",{attrs:{src:n("0014"),alt:""}}),a("h3",[e._v("登陆网易云账号")])])}],mt=n("bc3a"),pt=n.n(mt),vt=n("658f"),ht=n.n(vt),bt={components:{VueQr:ht.a},name:"Login",data:function(){return{config:{qrImgUrl:"https://www.baidu.com",BYTE_POS:"green"},qrImgUrl:"",activeName:"cellphone",tabPosition:"left",cellphone:"18435933438",rulesNum:"Yzh010603",unikey:""}},watch:{activeName:function(e){"twoimg"==e&&this.getQrKey()},unikey:function(){}},methods:{login:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pt.a.post("https://music-api-three-liard.vercel.app/login/cellphone?",{phone:e.cellphone,password:e.rulesNum});case 2:if(n=t.sent,a=n.data,console.log(a),200===a.code){t.next=7;break}return t.abrupt("return",e.$message.error("密码错误！"));case 7:window.sessionStorage.setItem("cookie",a.cookie),localStorage.setItem("UserId",a.profile.userId),e.$router.push("/doc"),e.$message.success("登陆成功！"),window.localStorage.setItem("activeName","/doc/intro");case 12:case"end":return t.stop()}}),t)})))()},getQrKey:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/login/qr/key");case 2:if(n=t.sent,a=n.data,e.unikey=a.data.unikey,200===a.code){t.next=7;break}return t.abrupt("return",e.$message.error("获取二维码key失败，请重新刷新再试！"));case 7:return t.next=9,e.$http.get("/login/qr/create?key=".concat(e.unikey));case 9:s=t.sent,r=s.data,console.log(r),e.config.qrImgUrl=r.data.qrurl;case 13:case"end":return t.stop()}}),t)})))()},checkQrStatus:function(){var e=this;return Object(J["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/login/qr/check?key=".concat(e.unikey,"&timestamp=").concat(new Date));case 2:n=t.sent,a=n.data,console.log(a);case 5:case"end":return t.stop()}}),t)})))()},register:function(){}},mounted:function(){this.getQrKey()}},wt=bt,_t=(n("3a4c"),Object(c["a"])(wt,gt,ft,!1,null,"7f121913",null)),yt=_t.exports;a["default"].use(W["a"]);var kt=W["a"].prototype.push;W["a"].prototype.push=function(e){return kt.call(this,e).catch((function(e){return e}))};var xt,St=new W["a"]({routes:[{path:"/",redirect:"/doc"},{path:"/login",component:yt},{path:"/doc",name:"doc",component:ke,redirect:"/doc/intro",children:[{path:"intro",component:Ee},{path:"newsong",name:"setup",component:Le},{path:"newmv",name:"newmv",component:je},{path:"search",name:"search",component:st},{path:"recommend",name:"recommend",component:dt},{path:"singerinfo",name:"singerinfo",component:Xe},{path:"singer",component:He}]}]}),Ct=St,It=n("caf9"),$t=(n("be4f"),n("896a"),0),Lt=function(){xt.close()},Ut=function(){$t<=0||($t-=1,0===$t&&Lt())},Nt=n("323e"),Rt=n.n(Nt);n("a5d8");pt.a.defaults.baseURL="https://music-api-three-liard.vercel.app/",pt.a.interceptors.request.use((function(e){return Rt.a.start(),e}),(function(e){return Promise.reject(e)})),pt.a.interceptors.response.use((function(e){return Rt.a.done(),e}),(function(e){return Ut(),Promise.reject(e)})),a["default"].prototype.$http=pt.a,a["default"].config.productionTip=!1,a["default"].filter("dataFormat",(function(e){var t=new Date(e),n=t.getFullYear(),a=(t.getMonth()+1+"").padStart(2,"0"),s=(t.getDate()+"").padStart(2,"0");(t.getHours()+"").padStart(2,"0"),(t.getMinutes()+"").padStart(2,"0"),(t.getSeconds()+"").padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(s)})),a["default"].filter("timeFormat",(function(e){var t=new Date(e),n=(t.getMinutes()+"").padStart(2,"0"),a=(t.getSeconds()+"").padStart(2,"0");return"".concat(n,":").concat(a)})),a["default"].filter("numberTextFormat",(function(e){if(void 0!==e&&null!==e){if(Number(e)<1e4)return e;var t=Number((Number(e)/1e4).toFixed(0)).toString(),n=t.indexOf("")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return t.replace(n,"$1,")+"万"}return""})),a["default"].use(It["a"],{loading:n("f3f3"),error:n("f3f3")}),new a["default"]({render:function(e){return e(u)},beforeCreate:function(){a["default"].prototype.$bus=this},router:Ct}).$mount("#app")},"6b40":function(e,t,n){"use strict";n("51e0")},7665:function(e,t,n){},"7a80":function(e,t,n){"use strict";n("dc81")},"7c55":function(e,t,n){"use strict";n("2395")},8044:function(e,t,n){},"82af":function(e,t,n){"use strict";n("0442")},"84c9":function(e,t,n){"use strict";n("7665")},"8b0b":function(e,t,n){"use strict";n("211e")},"8ed7":function(e,t,n){},"98c1":function(e,t,n){"use strict";n("8044")},"9d29":function(e,t,n){},c66d:function(e,t,n){},d270:function(e,t,n){"use strict";n("e1fe")},dc81:function(e,t,n){},e1fe:function(e,t,n){},ef5a:function(e,t,n){e.exports=n.p+"img/top50.d05afda0.png"},f3f3:function(e,t,n){e.exports=n.p+"img/logo1.c3b81102.png"}});
//# sourceMappingURL=app.2cb3a5e2.js.map