(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],d=0,g=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&g.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(g.length)g.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(s=!1)}s&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var s={},i={app:0},a=[];function r(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=s,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("4cae")},"0014":function(e,t,n){e.exports=n.p+"img/music-logo.e1e193dd.png"},"02e6":function(e,t,n){},"0a56":function(e,t,n){},"0ea9":function(e,t,n){"use strict";n("4993")},"127c":function(e,t,n){},"1af2":function(e,t){e.exports=NProgress},2395:function(e,t,n){},2619:function(e,t,n){"use strict";n("ce14")},"2a1e":function(e,t,n){},"2c9a":function(e,t,n){"use strict";n("f199")},"42c2":function(e,t,n){"use strict";n("2a1e")},4696:function(e,t,n){"use strict";n("7b9d")},4946:function(e,t,n){"use strict";n("781c")},4993:function(e,t,n){},"4cae":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("4de4"),n("d3b7"),n("4d90"),n("99af"),n("a9e3"),n("25f0"),n("b680"),n("ac1f"),n("5319");var s=n("8bbf"),i=n.n(s),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-view")],1)},r=[],o={},c=o,l=(n("7c55"),n("2877")),u=Object(l["a"])(c,a,r,!1,null,null,null),d=u.exports,g=n("6389"),f=n.n(g),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Top"),n("div",{staticClass:"main"},[n("Main")],1),n("Footer"),n("div",{staticClass:"info"},[n("el-button",{staticClass:"info-btn",attrs:{plain:""},on:{click:e.open2}},[e._v("2")])],1)],1)},p=[],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-nav"},[n("div",{staticClass:"logo"},[n("ul",[n("li",[n("a",{on:{click:function(t){return e.$router.back(-1)}}},[n("i",{staticClass:"el-icon-arrow-left"})])]),n("li",[n("a",{on:{click:function(t){return e.$router.forward(1)}}},[n("i",{staticClass:"el-icon-arrow-right"})])])])]),n("nav",[n("div",{},[n("router-link",{attrs:{to:"/doc"}},[e._v("主页")]),n("router-link",{attrs:{to:"/doc/newsong"}},[e._v("最新单曲")]),n("router-link",{attrs:{to:"/doc/singer"}},[e._v("最热歌手")]),n("router-link",{attrs:{to:"/doc/newmv"}},[e._v("最新MV")])],1)]),n("div",{staticClass:"intro"},[n("div",{staticClass:"login"},[n("el-input",{attrs:{placeholder:"搜索歌曲",size:"small","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchSingByName.apply(null,arguments)}},model:{value:e.keyWords,callback:function(t){e.keyWords=t},expression:"keyWords"}})],1)])])},h=[],y=n("1da1"),b=(n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:!0,"default-active":e.activeName,"background-color":"#fff","active-text-color":"#000"},on:{select:e.getIndex}},e._l(e.menuList,(function(t){return n("el-menu-item",{key:t.id,attrs:{index:t.index}},[n("span",[e._v(e._s(t.title))])])})),1)],1)}),w=[],k={created:function(){window.localStorage.setItem("activeName","/doc/intro"),this.activeName=window.localStorage.getItem("activeName")},watch:{$route:function(e){window.localStorage.setItem("activeName",e.path),this.activeName=e.path}},data:function(){return{activeName:"",menuList:[{id:1,index:"/doc/intro",title:"个性推荐"},{id:2,index:"/doc/newsong",title:"最新音乐"},{id:3,index:"/doc/singer",title:"歌手推荐"},{id:4,index:"/doc/newmv",title:"视频"}]}},methods:{getIndex:function(e){window.localStorage.setItem("activeName",e),this.activeName=e}}},_=k,x=(n("d5a6"),Object(l["a"])(_,b,w,!1,null,"7e3ff428",null)),$=x.exports,I={components:{Aside:$},computed:{loginFlag:function(){return!sessionStorage.getItem("UserId")}},mounted:function(){this.getUserList()},data:function(){return{username:"春夏秋冬里的你",keyWords:"",userInfo:{}}},methods:{searchSingByName:function(){this.$router.push({name:"search",query:{key:this.keyWords}})},getUserList:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/user/detail?uid=".concat(sessionStorage.getItem("UserId")),{cookie:encodeURIComponent(window.sessionStorage.getItem("cookie"))});case 2:n=t.sent,s=n.data,e.userInfo=s.profile;case 5:case"end":return t.stop()}}),t)})))()},quit:function(){window.sessionStorage.clear(),window.sessionStorage.removeItem("UserId"),window.localStorage.removeItem("activeName"),this.$router.push("/login")}}},S=I,C=(n("5fad"),Object(l["a"])(S,v,h,!1,null,"4c73b166",null)),L=C.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-box"},[n("main",[n("router-view")],1)])},N=[],U=n("6db4"),M={components:{Aside:$,HappyScroll:U["HappyScroll"]}},O=M,j=Object(l["a"])(O,R,N,!1,null,"58a02d6f",null),D=j.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.songInfo?n("footer",{staticClass:"footer"},[n("div",{staticClass:"bar"},[n("div",{staticClass:"wrap",on:{click:e.updatePlayTime,mousedown:e.moveDown,mousemove:e.moveStart,mouseup:e.moveOut}}),n("div",{ref:"circleRefs",staticClass:"circle"}),e.percentageTime?n("el-progress",{attrs:{"show-text":!1,percentage:e.percentageTime},on:{click:e.updatePlayTime}}):e._e()],1),e.songInfo?n("div",{staticClass:"actionTime"},[e._v(e._s(e.currentTime))]):e._e(),e.songInfo?n("div",{staticClass:"duration"},[e._v(e._s(e._f("timeFormat")(e.songInfo.dt)))]):e._e(),n("div",{staticClass:"audio"},[n("div",{staticClass:"left-intro"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.songInfo?e.songInfo.al.picUrl:e.staticUrl,expression:"songInfo ? songInfo.al.picUrl : staticUrl"}],staticStyle:{width:"50px",height:"50px","border-radius":"5px"},attrs:{alt:""}}),n("div",{staticClass:"content"},[e.songInfo?n("h3",[e._v(e._s(e.songInfo.name))]):e._e(),n("p",e._l(e.songInfo.ar,(function(t,s){return n("router-link",{key:s,attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[e._v(" "+e._s(t.name))])})),1)])]),n("div",{staticClass:"btn-arr"},[n("i",{staticClass:"iconfont icon-shangyishou",on:{click:e.playPre}}),n("i",{ref:"toggleRefs",staticClass:"iconfont icon-zanting",on:{click:e.togglePlay}}),n("i",{staticClass:"iconfont icon-xiayishou",on:{click:e.playNext}})]),n("div",{staticClass:"play-way"},[n("div",{staticClass:"way-btn"},[n("div",{staticClass:"loop"},[n("span",{staticClass:"iconfont icon-xunhuan list-cycle",staticStyle:{color:"pink"},attrs:{title:"列表循环"},on:{click:e.playListCycle}})]),n("div",{staticClass:"loop list-single"},[n("span",{staticClass:"iconfont icon-danquxunhuan single",attrs:{title:"单曲循环"},on:{click:e.playSingle}})]),n("div",{staticClass:"loop list-random"},[n("span",{staticClass:"iconfont icon-suijibofang random",attrs:{title:"随机播放"},on:{click:e.playRandom}})])]),n("div",{staticClass:"laba"},[n("span",{ref:"toggleMuteRefs",staticClass:"iconfont icon-laba-fill",attrs:{title:"静音"},on:{click:e.toggleMute}})]),n("div",{staticClass:"column"},[n("el-progress",{attrs:{color:e.customColor,"show-text":!1,percentage:e.volumeNum}}),n("div",{staticClass:"wrap column-wrap",on:{click:e.updatedVolume}})],1)])]),e.songInfo?n("audio",{ref:"audio",attrs:{loop:e.playLoop,src:e.audioUrl,controls:"",autoplay:""},on:{timeupdate:e.updateTime,ended:e.playModel}}):e._e()]):e._e()},T=[],z=(n("159b"),n("e9c4"),{mounted:function(){this.$bus.$on("sendSangUrl",this.getSangUrl),this.$bus.$on("pauseSang",this.pauseSang),this.$bus.$on("actionSang",this.actionSang)},methods:{playPre:function(){var e=this;this.index--,-1==this.index?(this.index=this.playList.length-1,this.playList.forEach((function(t,n){e.index==n&&(e.songInfo=t,e.searchSingById(t))}))):this.playList.forEach((function(t,n){e.index==n&&(e.songInfo=t,e.searchSingById(t))}))},playNext:function(e){var t=this;"random"==e?(this.index=Math.floor(Math.random()*(this.playList.length+1)),this.playList.forEach((function(e,n){t.index==n&&(t.songInfo=e,t.searchSingById(e))}))):"single"==e?(this.playLoop=!0,this.$refs.audio.play()):(this.index++,this.index==this.playList.length&&(this.index=0),this.playList.forEach((function(e,n){t.index==n&&(t.songInfo=e,t.searchSingById(e))})))},pauseSang:function(){this.$refs.toggleRefs.classList.remove("icon-zanting"),this.$refs.toggleRefs.classList.add("icon-bofang"),this.$refs.audio.pause()},actionSang:function(e){this.$refs.toggleRefs.classList.remove("icon-bofang"),this.$refs.toggleRefs.classList.add("icon-zanting"),this.$refs.audio.play()},togglePlay:function(e){e.target.classList.contains("icon-zanting")?(this.$refs.toggleRefs.classList.remove("icon-zanting"),this.$refs.toggleRefs.classList.add("icon-bofang"),this.$refs.audio.pause()):(this.$refs.toggleRefs.classList.remove("icon-bofang"),this.$refs.toggleRefs.classList.add("icon-zanting"),this.$refs.audio.play())},getSangUrl:function(e,t,n,s){var i=this;s&&(t=JSON.parse(JSON.stringify(t).replace(/album/g,"al")),t=JSON.parse(JSON.stringify(t).replace(/artists/g,"ar")),t=JSON.parse(JSON.stringify(t).replace(/duration/g,"dt"))),this.audioUrl=e,t.forEach((function(e,t){e.id==n&&(i.index=t,i.songInfo=e)})),this.playList=t},getDuration:function(e){},searchSingById:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=13;break}return t.$message.info("没有查询到登录信息！请登录体验完整功能！"),n.next=4,t.$http.post("/song/url?id=".concat(e.id));case 4:if(s=n.sent,i=s.data,200===i.code){n.next=8;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 8:if(200==t.sangInfo[0].code){n.next=10;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 10:t.sangInfo=i.data,n.next=23;break;case 13:return n.next=15,t.$http.post("/song/url?id=".concat(e.id),{cookie:window.sessionStorage.getItem("cookie")});case 15:if(a=n.sent,r=a.data,200===r.code){n.next=19;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 19:if(t.sangInfo=r.data,200==t.sangInfo[0].code){n.next=22;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 22:t.audioUrl=t.sangInfo[0].url;case 23:case"end":return n.stop()}}),n)})))()},playModel:function(){"random"==this.playMode?this.playNext("random"):"single"==this.playMode?this.playNext("single"):this.playNext()},playListCycle:function(){this.playLoop=!1,this.playMode="listCycle"},playSingle:function(){this.playLoop=!0,this.playMode="single"},playRandom:function(){this.playLoop=!1,this.playMode="random"},s_to_hs:function(e){var t;return t=Math.floor(e/60),e%=60,t+="",e+="",t=1==t.length?"0"+t:t,e=1==e.length?"0"+e:e,t+":"+e},updateTime:function(){if(!this.dragFlag){var e=document.querySelector(".circle"),t=document.querySelector(".wrap"),n=parseInt(this.$refs.audio.currentTime);this.currentTime=this.s_to_hs(n);var s=parseInt(this.$refs.audio.duration);this.percentageTime=n/s*100,e.style.left=this.percentageTime/100*t.offsetWidth+"px"}},updatePlayTime:function(e){var t=document.querySelector(".wrap");this.percentageTime=e.pageX/t.offsetWidth*100,this.$refs.audio.currentTime=this.percentageTime/100*this.$refs.audio.duration},moveDown:function(e){var t=document.querySelector(".circle"),n=document.querySelector(".wrap");this.mouseDownX=e.pageX,t.style.left=this.mouseDownX+"px",this.percentageTime=e.pageX/n.offsetWidth*100;var s=parseInt(this.percentageTime/100*this.$refs.audio.duration);this.currentTime=this.s_to_hs(s),this.moveFlag=!0,this.dragFlag=!0},moveStart:function(e){var t=document.querySelector(".circle"),n=document.querySelector(".wrap");if(this.moveFlag){t.style.left=e.pageX+"px",this.percentageTime=e.pageX/n.offsetWidth*100;var s=parseInt(this.percentageTime/100*this.$refs.audio.duration);this.currentTime=this.s_to_hs(s)}},moveOut:function(){this.moveFlag=!1,this.$refs.audio.currentTime=this.percentageTime/100*this.$refs.audio.duration,this.dragFlag=!1},updatedVolume:function(e){var t=document.querySelector(".column-wrap"),n=e.pageX-t.offsetParent.offsetLeft;n/t.offsetWidth*100<0||(this.volumeNum=n/t.offsetWidth*100,this.volumeNum/100<0||(this.$refs.audio.volume=this.volumeNum/100))},toggleMute:function(){this.$refs.toggleMuteRefs.classList.contains("icon-laba-fill")?(this.holdVolume=this.volumeNum,this.volumeNum=0,this.$refs.audio.volume=this.volumeNum,this.$refs.toggleMuteRefs.classList.remove("icon-laba-fill"),this.$refs.toggleMuteRefs.classList.add("icon-jingyin")):(this.volumeNum=this.holdVolume,this.$refs.audio.volume=this.volumeNum/100,this.$refs.toggleMuteRefs.classList.remove("icon-jingyin"),this.$refs.toggleMuteRefs.classList.add("icon-laba-fill"))}},watch:{playMode:function(e){var t=document.querySelector(".list-cycle"),n=document.querySelector(".single"),s=document.querySelector(".random");"listCycle"==e?(t.style.color="pink",n.style.color="",s.style.color=""):"single"==e?(n.style.color="pink",t.style.color="",s.style.color=""):(s.style.color="pink",t.style.color="",n.style.color="")},currentTime:function(e){}},data:function(){return{isFlag:!0,staticUrl:"./assets/logo1.png",songInfo:"",index:"",audioUrl:"",durationTime:"",currentTime:"0:00",playList:"",playMode:"listCycle",playLoop:!1,percentageTime:"",moveFlag:!1,mouseDownX:"",circleLength:"",dragFlag:!1,volumeNum:100,holdVolume:"",customColor:"#000"}}}),V=z,E=(n("2c9a"),Object(l["a"])(V,q,T,!1,null,"713734de",null)),F=E.exports,P={components:{Top:L,Aside:$,Main:D,Footer:F},data:function(){return{isFlag:!!sessionStorage.getItem("UserId")}},methods:{open1:function(){this.$createElement;this.$notify.info({title:"提示",dangerouslyUseHTMLString:!0,message:'<strong>本项目大部分功能需要登陆之后才可以正常使用！<br/>先进行<a style="color:rgb(252, 94, 136)" href="#/login"><i>登录/注册</i></a> 再重新体验吧！</strong>',offset:100})},open2:function(){this.$notify({title:"成功",dangerouslyUseHTMLString:!0,message:"<strong>恭喜您！登陆成功，请体验！</strong>",type:"success",offset:100})}},mounted:function(){this.isFlag?this.open2():this.open1()},watch:{}},B=P,A=(n("9eae"),Object(l["a"])(B,m,p,!1,null,"635f2652",null)),W=A.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.newSongList?n("div",{staticClass:"newSong"},[n("h2",[e._v("最新音乐")]),n("div",{staticClass:"new-song"},e._l(e.newSongList,(function(t){return n("div",{key:t.id,staticClass:"playlist-table",on:{dblclick:function(n){return e.searchSingById(t)}}},[n("div",{staticClass:"left"},[n("div",{staticClass:"img"},[n("i",{staticClass:"el-icon-video-play",on:{click:function(n){return e.searchSingById(t)}}}),n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.album.blurPicUrl,expression:"item.album.blurPicUrl"}],staticStyle:{width:"40px",height:"40px"},attrs:{alt:""}})]),n("div",{staticClass:"song-name"},[n("h3",[e._v(" "+e._s(t.name)+" ")]),n("p",e._l(t.artists,(function(t,s){return n("router-link",{key:s,attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[e._v(e._s(t.name)+" ")])})),1)])]),n("p",[n("span",[e._v(e._s(e._f("timeFormat")(t.duration)))])])])})),0)]):n("div",[n("h2",[e._v("正在加载中...")])])},X=[],J={data:function(){return{newSongList:"",sangInfo:""}},methods:{getNewSong:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/top/song?type=0");case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取最新歌曲列表失败，请刷新重试！"));case 6:e.newSongList=s.data;case 7:case"end":return t.stop()}}),t)})))()},searchSingById:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=14;break}return t.$message.info("没有查询到登录信息！请登录体验完整功能！"),n.next=4,t.$http.post("/song/url?id=".concat(e.id));case 4:if(s=n.sent,i=s.data,200===i.code){n.next=8;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录或者刷新重试！"));case 8:if(t.sangInfo=i.data,200==t.sangInfo[0].code){n.next=11;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 11:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url,t.newSongList,e.id),n.next=24;break;case 14:return n.next=16,t.$http.post("/song/url?id=".concat(e.id),{cookie:window.sessionStorage.getItem("cookie")});case 16:if(a=n.sent,r=a.data,200===r.code){n.next=20;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录或者刷新重试！"));case 20:if(t.sangInfo=r.data,200==t.sangInfo[0].code){n.next=23;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 23:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url,t.newSongList,e.id,"newSong");case 24:case"end":return n.stop()}}),n)})))()}},mounted:function(){this.getNewSong()}},Y=J,K=(n("f4e7"),Object(l["a"])(Y,H,X,!1,null,"deb7c304",null)),Q=K.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.newMvList?n("div",{staticClass:"new-mv"},[n("h2",[e._v("最新MV")]),n("div",{staticClass:"video"},e._l(e.newMvList,(function(t){return n("div",{key:t.id,staticClass:"video-small"},[n("div",{staticClass:"video-img"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"item.cover"}],attrs:{alt:""},on:{click:function(n){return e.showMvDialog(t.id)}}}),n("div",{staticClass:"screen"},[n("i",{staticClass:"el-icon-video-play"}),e._v(" "+e._s(e._f("numberTextFormat")(t.playCount)))]),n("i",{staticClass:"el-icon-video-play"})]),n("div",{staticClass:"video-info"},[n("h3",{staticClass:"video-keywords"},[e._v(e._s(t.name))]),n("p",{staticClass:"singer"},[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.artistId}}}},[e._v(e._s(t.artistName))])],1)])])})),0),n("el-dialog",{attrs:{visible:e.mvDialogVisible,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.mvDialogVisible=t},close:e.closeEvent}},[e.mvDialogVisible?n("video",{attrs:{autoplay:"",src:e.mvInfo.url,controls:""}}):e._e()])],1):n("div",[n("h2",[e._v("正在加载中...")])])},Z=[],ee={data:function(){return{newMvList:[],mvDialogVisible:!1,mvInfo:[]}},methods:{getNewMv:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/mv/first?limit=32");case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取最新mv失败！请刷新或者登录重试！"));case 6:e.newMvList=s.data;case 7:case"end":return t.stop()}}),t)})))()},showMvDialog:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.$bus.$emit("pauseSang"),t.mvDialogVisible=!0,n.next=4,t.$http.get("/mv/url?id="+e);case 4:s=n.sent,i=s.data,t.mvInfo=i.data;case 7:case"end":return n.stop()}}),n)})))()},closeEvent:function(){this.$bus.$emit("actionSang"),this.mvDialogVisible=!1}},mounted:function(){this.getNewMv()}},te=ee,ne=(n("4946"),Object(l["a"])(te,G,Z,!1,null,"73a251bf",null)),se=ne.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.personalizedList?n("article",{staticClass:"markdown-body"},[n("div",{staticClass:"start"},[n("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},e._l(e.newestList,(function(e){return n("el-carousel-item",{key:e.id},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imageUrl,expression:"item.imageUrl"}],attrs:{alt:""}})])})),1)],1),n("div",{staticClass:"recommend"},[e._m(0),n("div",{staticClass:"big-box"},e._l(e.personalizedList,(function(t){return n("div",{key:t.id,staticClass:"small-box"},[n("router-link",{attrs:{to:{path:"/doc/recommend",query:{id:t.id}}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"item.picUrl"}],attrs:{alt:""}}),n("h4",[e._v(e._s(t.name))])]),n("div",{staticClass:"screen"},[n("i",{staticClass:"el-icon-video-play"}),e._v(" "+e._s(e._f("numberTextFormat")(t.playCount)))])],1)})),0)])]):n("div",[n("h2",[e._v("正在加载中....")])])},ae=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h2",[e._v("推荐歌单 "),n("i",{staticClass:"el-icon-arrow-right"})])}],re={data:function(){return{newestList:"",personalizedList:""}},methods:{getNewest:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("banner?type=0");case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message("获取数据失败！请登录重试。"));case 6:e.newestList=s.banners;case 7:case"end":return t.stop()}}),t)})))()},getPersonalized:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("personalized?limit=10");case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message("获取数据失败！请登录重试。"));case 6:e.personalizedList=s.result;case 7:case"end":return t.stop()}}),t)})))()},login:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("https://music-api-three-liard.vercel.app/login/cellphone?",{phone:18435933438,password:"Yzh010603"});case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message.error("密码错误！"));case 6:window.sessionStorage.setItem("cookie",s.cookie),e.$message.success("登陆成功！"),window.localStorage.setItem("activeName","/doc/intro");case 9:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getNewest(),this.getPersonalized(),this.login()}},oe=re,ce=(n("2619"),Object(l["a"])(oe,ie,ae,!1,null,"010836aa",null)),le=ce.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.singerList?n("div",{staticClass:"singer"},[n("div",{staticClass:"sing-type"},[n("div",{staticClass:"lang-type"},[n("p",[e._v("语种：")]),n("ul",e._l(e.language,(function(t){return n("li",{key:t.id,on:{click:function(n){return e.toggleActive(t)}}},[n("router-link",{class:t.class,attrs:{to:""}},[e._v(e._s(t.name))])],1)})),0)]),n("div",{staticClass:"classify-type"},[n("p",[e._v("分类：")]),n("ul",e._l(e.type,(function(t){return n("li",{key:t.id,on:{click:function(n){return e.toggleTypeActive(t)}}},[n("router-link",{class:t.class,attrs:{to:""}},[e._v(e._s(t.name))])],1)})),0)]),n("div",{staticClass:"sing-list"},e._l(e.singerList,(function(t){return n("div",{key:t.id,staticClass:"singer-box"},[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img1v1Url,expression:"item.img1v1Url"}],attrs:{alt:""}})]),n("p",[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[e._v(" "+e._s(t.name))])],1)],1)})),0)])]):n("div",[n("h2",[e._v("正在加载中...")])])},de=[],ge={data:function(){return{singerList:[],activeName:"",areaId:-1,language:[{id:1,class:"active-type",name:"全部",area:"all",n:-1},{id:2,class:"",name:"华语",area:"china",n:7},{id:3,class:"",name:"欧美",area:"west",n:96},{id:4,class:"",name:"日本",area:"jap",n:8},{id:5,class:"",name:"韩国",area:"korea",n:16},{id:6,class:"",name:"其他",area:"other",n:0}],typeId:-1,type:[{id:1,class:"active-type",name:"全部",value:"all",n:-1},{id:2,class:"",name:"男歌手",value:"male",n:1},{id:3,class:"",name:"女歌手",value:"female",n:2}]}},watch:{areaId:function(){this.getSingerList()},typeId:function(){this.getSingerList()}},methods:{toggleActive:function(e){this.areaId=e.n,this.language.forEach((function(t){t.class="",t.id==e.id&&(t.class="active-type")}))},toggleTypeActive:function(e){this.typeId=e.n,this.type.forEach((function(t){t.class="",t.id==e.id&&(t.class="active-type")}))},getSingerList:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/artist/list?type=".concat(e.typeId,"&area=").concat(e.areaId));case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取歌手列表失败，请刷新重试！"));case 6:e.singerList=s.artists;case 7:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getSingerList()}},fe=ge,me=(n("42c2"),Object(l["a"])(fe,ue,de,!1,null,"1ab952c6",null)),pe=me.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.artistList?n("div",{staticClass:"singer-info"},[n("div",{staticClass:"singer-top"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.artistList.img1v1Url,expression:"artistList.img1v1Url"}],attrs:{alt:""}}),n("div",{staticClass:"singer-details"},[n("h2",[e._v(e._s(e.artistList.name))]),n("p",{staticClass:"english-name"},[e._v(e._s(e.alias))]),n("div",{staticClass:"songs-info"},[n("p",[e._v("单曲数:"+e._s(e.artistList.musicSize))]),n("p",[e._v("专辑:"+e._s(e.artistList.albumSize))]),n("p",[e._v("MV:"+e._s(e.artistList.mvSize))])]),n("p",{staticClass:"singer-intro",on:{click:e.showSingerIntro}},[e._v(e._s(e.artistList.briefDesc))])])]),n("h2",[e._v("热门歌曲")]),n("div",{staticClass:"hot-songs"},e._l(e.singerHotSongsList,(function(t){return n("div",{key:t.id,staticClass:"hotSong-list",on:{dblclick:function(n){return e.searchSingById(t)}}},[n("div",{staticClass:"info"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.al.picUrl,expression:"item.al.picUrl"}],attrs:{alt:""}}),n("div",{staticClass:"h3"},[n("h3",[e._v(" "+e._s(t.name)+" "),e._l(t.al.alia,(function(t){return n("span",{key:t.id},[e._v("("+e._s(t)+")")])}))],2),n("p",e._l(t.ar,(function(t,s){return n("router-link",{key:s,attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[e._v(" "+e._s(t.name))])})),1)])]),n("i",{staticClass:"el-icon-video-play",on:{click:function(n){return e.searchSingById(t)}}})])})),0),e.singerMvList?n("h2",[e._v("MVs")]):e._e(),n("div",{staticClass:"hot-MVs"},e._l(e.singerMvList,(function(t){return n("div",{key:t.id,staticClass:"hotMv-list"},[n("div",{staticClass:"img"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgurl,expression:"item.imgurl"}],attrs:{alt:""},on:{click:function(n){return e.showMvDialog(t.id)}}}),n("i",{staticClass:"el-icon-video-play"})]),n("div",{staticClass:"info"},[n("h4",[e._v(" "+e._s(t.name)+" ")]),n("p",[e._v(e._s(t.publishTime))])])])})),0),n("el-dialog",{attrs:{visible:e.singerIntroDialogVisible,width:"50%",close:e.singerIntroClose},on:{"update:visible":function(t){e.singerIntroDialogVisible=t}}},[n("span",[e._v(e._s(e.artistList.briefDesc))])]),n("el-dialog",{staticClass:"mv-dialog",attrs:{visible:e.mvDialogVisible,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.mvDialogVisible=t},close:e.closeEvent}},[e.mvDialogVisible?n("video",{attrs:{autoplay:"",src:e.mvInfo.url,controls:""}}):e._e()])],1):n("div",[n("h2",[e._v("正在加载中....")])])},he=[],ye={watch:{$route:function(e,t){this.getUserSongs(e.query),this.getSingerMv(e.query)}},data:function(){return{singerInfo:[],artistList:"",singerIntroDialogVisible:!1,mvDialogVisible:!1,singerHotSongsList:[],alias:"",artistName:"",singerMvList:{},mvInfo:[]}},mounted:function(){this.getUserSongs(),this.getSingerMv()},methods:{searchSingById:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=14;break}return t.$message.info("获取列表失败！请查看是否登录！"),n.next=4,t.$http.post("/song/url?id=".concat(e.id));case 4:if(s=n.sent,i=s.data,200===i.code){n.next=8;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 8:if(t.sangInfo=i.data,200==t.sangInfo[0].code){n.next=11;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 11:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url),n.next=24;break;case 14:return n.next=16,t.$http.post("/song/url?id=".concat(e.id),{cookie:window.sessionStorage.getItem("cookie")});case 16:if(a=n.sent,r=a.data,200===r.code){n.next=20;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 20:if(t.sangInfo=r.data,200==t.sangInfo[0].code){n.next=23;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 23:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url,t.singerHotSongsList,e.id);case 24:case"end":return n.stop()}}),n)})))()},getUserSongs:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/artists?id=".concat(e.$route.query.id));case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message.error("获取歌手信息失败，请刷新重试！"));case 6:e.artistList=s.artist,e.singerHotSongsList=s.hotSongs;case 8:case"end":return t.stop()}}),t)})))()},getSingerMv:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/artist/mv?id=".concat(e.$route.query.id));case 2:n=t.sent,s=n.data,0==s.mvs.length?e.singerMvList="":e.singerMvList=s.mvs;case 5:case"end":return t.stop()}}),t)})))()},showSingerIntro:function(){this.singerIntroDialogVisible=!0},singerIntroClose:function(){},showMvDialog:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.$bus.$emit("pauseSang"),t.mvDialogVisible=!0,n.next=4,t.$http.get("/mv/url?id="+e);case 4:s=n.sent,i=s.data,t.mvInfo=i.data;case 7:case"end":return n.stop()}}),n)})))()},closeEvent:function(){this.$bus.$emit("actionSang"),this.mvDialogVisible=!1}}},be=ye,we=(n("7891"),Object(l["a"])(be,ve,he,!1,null,"1186aff8",null)),ke=we.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search"},[e.sangUserInfo?n("div",{staticClass:"top-box"},[n("div",{staticClass:"singer"},[e.sangUserInfo?n("h2",[e._v("艺人")]):e._e(),n("div",{staticClass:"singer-box"},e._l(e.sangUserInfo,(function(t){return n("div",{key:t.id,staticClass:"singer-img"},[n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[n("img",{attrs:{src:t.picUrl,alt:""}}),n("h3",[e._v(e._s(t.name))])])],1)})),0)]),n("div",{staticClass:"album"},[e.albumsInfo?n("h2",[e._v("专辑")]):e._e(),n("div",{staticClass:"album-box"},e._l(e.albumsInfo,(function(t){return n("div",{key:t.id,staticClass:"album-img"},[n("img",{attrs:{src:t.picUrl,alt:""}}),n("h3",[e._v(e._s(t.name))])])})),0)])]):e._e(),n("div",{staticClass:"songs"},[e.songsInfo?n("h2",[e._v("歌曲")]):e._e(),n("div",{staticClass:"hot-songs"},e._l(e.songsInfo,(function(t){return n("div",{key:t.id,staticClass:"hotSong-list",on:{dblclick:function(n){return e.searchSingById(t)}}},[n("img",{attrs:{src:t.al.picUrl,alt:""}}),n("div",{staticClass:"info"},[n("h3",[e._v(e._s(t.name))]),n("p",e._l(t.ar,(function(t,s){return n("router-link",{key:s,attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[e._v(e._s(t.name)+" ")])})),1)]),n("i",{staticClass:"el-icon-video-play",on:{click:function(n){return e.searchSingById(t)}}})])})),0)]),n("div",{staticClass:"MVs"},[e.mvsInfo?n("h2",[e._v("MV")]):e._e(),n("div",{staticClass:"hot-MVs"},e._l(e.mvsInfo,(function(t){return n("div",{key:t.id,staticClass:"Mv-list"},[n("div",{staticClass:"img"},[n("img",{attrs:{src:t.cover,alt:""},on:{click:function(n){return e.showMvDialog(t.id)}}}),e._v(" "),n("i",{staticClass:"el-icon-video-play"})]),n("div",{staticClass:"mv-info"},[n("h3",[e._v(e._s(t.name))]),n("router-link",{attrs:{to:{name:"singerinfo",query:{id:t.artistId}}}},[n("p",[e._v(e._s(t.artistName))])])],1)])})),0)]),n("div",{staticClass:"playlists"},[e.playlistInfo?n("h2",[e._v("歌单")]):e._e(),n("div",{staticClass:"hot-playlist"},e._l(e.playlistInfo,(function(t){return n("div",{key:t.id,staticClass:"play-list"},[n("router-link",{attrs:{to:{path:"/doc/recommend",query:{id:t.id}}}},[n("img",{attrs:{src:t.coverImgUrl,alt:""}}),n("div",{staticClass:"playlist-info"},[n("h3",[e._v(e._s(t.name))])])])],1)})),0)]),n("el-dialog",{attrs:{visible:e.mvDialogVisible,"close-on-click-modal":!1,width:"50%"},on:{"update:visible":function(t){e.mvDialogVisible=t},close:e.closeEvent}},[e.mvDialogVisible?n("video",{attrs:{autoplay:"",src:e.mvInfo.url,controls:""}}):e._e()])],1)},xe=[],$e={mounted:function(){this.keyId=this.$route.query.key,this.getUserList(this.$route.query.key),this.getSongsInfo(this.$route.query.key),this.getAlbumsInfo(this.$route.query.key),this.getMvsInfo(this.$route.query.key),this.getPlayListInfo(this.$route.query.key)},updated:function(){},data:function(){return{sangUserInfo:"",albumsInfo:"",songsInfo:"",mvsInfo:"",playlistInfo:"",sangList:{},isFlag:!1,sangInfo:[],firstSangId:"",commentsList:[],keyId:"",wordsMvList:"",mvDialogVisible:!1,mvInfo:""}},watch:{$route:function(e,t){this.keyId=e.query.key,t.query.key&&(this.activeName="singleSing",this.getUserList(e.query.key))},keyId:function(e){this.getUserList(e),this.getSongsInfo(e),this.getAlbumsInfo(e),this.getMvsInfo(e),this.getPlayListInfo(e)}},methods:{getUserList:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/search?keywords=".concat(t.$route.query.key,"&type=100&limit=3"));case 2:if(n=e.sent,s=n.data,0!=s.result.artists.length){e.next=6;break}return e.abrupt("return",t.sangUserInfo="");case 6:if(200===s.code){e.next=8;break}return e.abrupt("return",t.$message.info("请先登录！"));case 8:t.sangUserInfo=s.result.artists;case 9:case"end":return e.stop()}}),e)})))()},getSongsInfo:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/cloudsearch?keywords=".concat(t.$route.query.key,"&type=1&limit=16"));case 2:if(n=e.sent,s=n.data,200===s.code){e.next=6;break}return e.abrupt("return",t.$message.info("请先登录！"));case 6:t.songsInfo=s.result.songs;case 7:case"end":return e.stop()}}),e)})))()},getAlbumsInfo:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/search?keywords=".concat(e.$route.query.key,"&type=10&limit=3"));case 2:if(n=t.sent,s=n.data,0!=s.result.albums.length){t.next=6;break}return t.abrupt("return",e.albumsInfo="");case 6:if(200===s.code){t.next=8;break}return t.abrupt("return",e.$message.info("请先登录！"));case 8:e.albumsInfo=s.result.albums;case 9:case"end":return t.stop()}}),t)})))()},getMvsInfo:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/search?keywords=".concat(e.$route.query.key,"&type=1004&limit=5"));case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message.info("请先登录！"));case 6:e.mvsInfo=s.result.mvs;case 7:case"end":return t.stop()}}),t)})))()},getPlayListInfo:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/search?keywords=".concat(e.$route.query.key,"&type=1000&limit=12"));case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message.info("请先登录！"));case 6:if(0!=s.result.playlists.length){t.next=8;break}return t.abrupt("return",e.playlistInfo="");case 8:e.playlistInfo=s.result.playlists;case 9:case"end":return t.stop()}}),t)})))()},searchSingById:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=14;break}return t.$message.info("获取列表失败！请查看是否登录！"),n.next=4,t.$http.post("/song/url?id=".concat(e.id));case 4:if(s=n.sent,i=s.data,200===i.code){n.next=8;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 8:if(t.sangInfo=i.data,200==t.sangInfo[0].code){n.next=11;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 11:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url),n.next=24;break;case 14:return n.next=16,t.$http.post("/song/url?id=".concat(e.id),{cookie:encodeURIComponent(window.sessionStorage.getItem("cookie"))});case 16:if(a=n.sent,r=a.data,200===r.code){n.next=20;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 20:if(t.sangInfo=r.data,200==t.sangInfo[0].code){n.next=23;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 23:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url,t.songsInfo,e.id);case 24:case"end":return n.stop()}}),n)})))()},handleClick:function(){},getSangComment:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("comment/music?id=".concat(e.firstSangId,"&limit=20"));case 2:n=t.sent,s=n.data,e.commentsList=s.comments;case 5:case"end":return t.stop()}}),t)})))()},getSangMv:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/search?keywords=".concat(e.keyId,"&type=1004&limit=100"));case 2:n=t.sent,s=n.data,e.wordsMvList=s.result;case 5:case"end":return t.stop()}}),t)})))()},showMvDialog:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.$bus.$emit("pauseSang"),t.mvDialogVisible=!0,n.next=4,t.$http.get("/mv/url?id="+e);case 4:s=n.sent,i=s.data,t.mvInfo=i.data;case 7:case"end":return n.stop()}}),n)})))()},closeEvent:function(){this.mvDialogVisible=!1,this.$bus.$emit("actionSang")}},computed:{showTitle:function(){return"singleSing"==this.activeName?(this.toggleWords="首单曲",this.sangList.songCount):"comment"==this.activeName?(this.toggleWords="条评论",this.commentsList.length):(this.toggleWords="个MV",this.wordsMvList.mvCount)}},beforeDestroy:function(){}},Ie=$e,Se=(n("0ea9"),Object(l["a"])(Ie,_e,xe,!1,null,"dd7e1bca",null)),Ce=Se.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.tableData?n("div",{staticClass:"play-list"},[n("div",{staticClass:"cmd-showSing"},[n("img",{attrs:{src:e.tableData.coverImgUrl,alt:""}}),n("div",{staticClass:"cmd-content"},[n("h2",[e._v(" "+e._s(e.tableData.name)+" ")]),n("div",{staticClass:"content-intro"},[e.tableData?n("p",{staticClass:"first-p"},[e._v(" Playlist By  "),n("a",{attrs:{target:"_blank",href:e.userUrl}},[e._v(e._s(e.nickname)+" ")])]):e._e(),n("p",[e._v(" 创建于"+e._s(e._f("dataFormat")(e.tableData.createTime))+"  · "+e._s(e.tableData.trackCount)+"首歌 "),n("span",[e._v("· "+e._s(e.tableData.playCount)+"次播放")])]),n("p",[e._v(e._s(e.tableData.description))])]),n("div",{staticClass:"btn-arr"})])]),e.tableData?n("div",{staticClass:"song-list"},[e.allSingList?e._e():n("div",[n("h2",[e._v("正在加载中...")])]),e._l(e.allSingList,(function(t){return n("div",{key:t.id,staticClass:"playlist-table",on:{dblclick:function(n){return e.searchSingById(t)}}},[n("div",{staticClass:"left"},[n("div",{staticClass:"img"},[n("i",{staticClass:"el-icon-video-play",on:{click:function(n){return e.searchSingById(t)}}}),n("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.al.picUrl,alt:""}})]),n("div",{staticClass:"song-name"},[n("h3",[e._v(" "+e._s(t.name)+" "),e._l(t.al.alia,(function(t){return n("span",{key:t.id},[e._v("("+e._s(t)+")")])}))],2),n("p",e._l(t.ar,(function(t,s){return n("router-link",{key:s,attrs:{to:{name:"singerinfo",query:{id:t.id}}}},[e._v(e._s(t.name)+" ")])})),1)])]),n("div",{staticClass:"song-album"},[e._v(e._s(t.al.name))]),n("p",[n("span",[e._v(e._s(e._f("timeFormat")(t.dt)))])])])}))],2):e._e()]):n("div",[n("h2",[e._v("正在加载中....")])])},Re=[],Ne={props:["id"],computed:{tagsFlag:function(){return 0!=this.tagsList.length}},mounted:function(){this.keyId=this.$route.query.id},data:function(){return{keyId:"",activeName:"singleSing",tableData:"",avatarUrl:"",nickname:"",allSingList:"",currentPage:1,pagesize:10,commentsList:[],tagsList:[],userId:"",userUrl:""}},methods:{getSangComment:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/comment/playlist?id=".concat(e.keyId,"&limit=20"));case 2:n=t.sent,s=n.data,e.commentsList=s.comments;case 5:case"end":return t.stop()}}),t)})))()},handleClick:function(e,t){},handleCurrentChange:function(){},getAllSingList:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("playlist/detail?id=".concat(e.$route.query.id));case 2:n=t.sent,s=n.data,e.tableData=s.playlist,e.tagsList=s.playlist.tags,e.avatarUrl=s.playlist.creator.avatarUrl,e.nickname=s.playlist.creator.nickname,e.userUrl="https://music.163.com/#/user/home?id="+s.playlist.creator.userId;case 9:case"end":return t.stop()}}),t)})))()},getAllSing:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){t.next=11;break}return e.$message.info("没有查询到登录信息！请登录体验完整功能！"),t.next=4,e.$http.post("/playlist/track/all?id=".concat(e.$route.query.id));case 4:if(n=t.sent,s=n.data,200===s.code){t.next=8;break}return t.abrupt("return",e.$message.info("获取列表失败！请查看是否登录！"));case 8:e.allSingList=s.songs,t.next=18;break;case 11:return t.next=13,e.$http.post("/playlist/track/all?id=".concat(e.$route.query.id),{cookie:window.sessionStorage.getItem("cookie")});case 13:if(i=t.sent,a=i.data,200===a.code){t.next=17;break}return t.abrupt("return",e.$message.info("获取列表失败！请查看是否登录！"));case 17:e.allSingList=a.songs;case 18:case"end":return t.stop()}}),t)})))()},searchSingById:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function n(){var s,i,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!=window.sessionStorage.getItem("cookie")){n.next=14;break}return t.$message.info("没有查询到登录信息！请登录体验完整功能！"),n.next=4,t.$http.post("/song/url?id=".concat(e.id));case 4:if(s=n.sent,i=s.data,200===i.code){n.next=8;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 8:if(t.sangInfo=i.data,200==t.sangInfo[0].code){n.next=11;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 11:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url,t.allSingList,e.id),n.next=24;break;case 14:return n.next=16,t.$http.post("/song/url?id=".concat(e.id),{cookie:window.sessionStorage.getItem("cookie")});case 16:if(a=n.sent,r=a.data,200===r.code){n.next=20;break}return n.abrupt("return",t.$message.info("获取列表失败！请查看是否登录！"));case 20:if(t.sangInfo=r.data,200==t.sangInfo[0].code){n.next=23;break}return n.abrupt("return",t.$message.error("该歌曲必须登录或者是会员专享！"));case 23:t.$bus.$emit("sendSangUrl",t.sangInfo[0].url,t.allSingList,e.id);case 24:case"end":return n.stop()}}),n)})))()}},created:function(){this.getAllSingList(),this.getAllSing()},beforeDestroy:function(){}},Ue=Ne,Me=(n("4696"),Object(l["a"])(Ue,Le,Re,!1,null,"3cdeab68",null)),Oe=Me.exports,je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[e._m(0),n("div",{staticClass:"login_box"},[e._m(1),n("div",{staticClass:"form-box"},[n("div",{staticClass:"input-s"},[n("el-input",{attrs:{placeholder:"手机号","prefix-icon":"iconfont icon-3702mima"},model:{value:e.cellphone,callback:function(t){e.cellphone=t},expression:"cellphone"}},[n("i",{staticClass:"el-input__icon el-icon-phone",attrs:{slot:"prefix"},slot:"prefix"})]),n("el-input",{attrs:{placeholder:"密码",type:"password","prefix-icon":"iconfont icon-3702mima"},model:{value:e.rulesNum,callback:function(t){e.rulesNum=t},expression:"rulesNum"}},[n("i",{staticClass:"el-input__icon el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("div",{staticClass:"btn-s"},[n("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),n("el-button",{attrs:{plain:""},on:{click:e.register}},[e._v("注册")])],1)])])])},De=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-aside"},[s("img",{attrs:{src:n("0014"),alt:""}}),s("h3",[e._v("登陆网易云账号")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"qr-box"},[n("p",[e._v("打开网易云音乐APP扫码登录")])])}],qe=n("cebe"),Te=n.n(qe),ze={components:{},name:"Login",data:function(){return{qrImgUrl:"",activeName:"cellphone",tabPosition:"left",cellphone:"18435933438",rulesNum:"Yzh010603",unikey:""}},watch:{activeName:function(e){"twoimg"==e&&this.getQrKey()},unikey:function(){}},methods:{login:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Te.a.post("https://music-api-three-liard.vercel.app/login/cellphone?",{phone:e.cellphone,password:e.rulesNum});case 2:if(n=t.sent,s=n.data,200===s.code){t.next=6;break}return t.abrupt("return",e.$message.error("密码错误！"));case 6:window.sessionStorage.setItem("cookie",s.cookie),sessionStorage.setItem("UserId",s.profile.userId),e.$router.push("/doc"),e.$message.success("登陆成功！"),window.localStorage.setItem("activeName","/doc/intro");case 11:case"end":return t.stop()}}),t)})))()},register:function(){}},mounted:function(){}},Ve=ze,Ee=(n("4d37"),Object(l["a"])(Ve,je,De,!1,null,"08a7d8f0",null));Ee.exports;i.a.use(f.a);var Fe=new f.a({routes:[{path:"/",redirect:"/doc"},{path:"/doc",name:"doc",component:W,redirect:"/doc/intro",children:[{path:"intro",component:le},{path:"newsong",name:"setup",component:Q},{path:"newmv",name:"newmv",component:se},{path:"search",name:"search",component:Ce},{path:"recommend",name:"recommend",component:Oe},{path:"singerinfo",name:"singerinfo",component:ke},{path:"singer",component:pe}]}]}),Pe=Fe,Be=n("caf9"),Ae=(n("be4f"),n("450d"),n("896a"),n("1af2")),We=n.n(Ae);n("02e6"),n("14d3");Te.a.defaults.baseURL="https://music-api-three-liard.vercel.app/",Te.a.interceptors.request.use((function(e){return We.a.start(),e})),Te.a.interceptors.response.use((function(e){return We.a.done(),e})),i.a.prototype.$http=Te.a,i.a.config.productionTip=!1,i.a.filter("dataFormat",(function(e){var t=new Date(e),n=t.getFullYear(),s=(t.getMonth()+1+"").padStart(2,"0"),i=(t.getDate()+"").padStart(2,"0");(t.getHours()+"").padStart(2,"0"),(t.getMinutes()+"").padStart(2,"0"),(t.getSeconds()+"").padStart(2,"0");return"".concat(n,"年").concat(s,"月").concat(i,"日")})),i.a.filter("timeFormat",(function(e){var t=new Date(e),n=(t.getMinutes()+"").padStart(2,"0"),s=(t.getSeconds()+"").padStart(2,"0");return"".concat(n,":").concat(s)})),i.a.filter("numberTextFormat",(function(e){if(void 0!==e&&null!==e){if(Number(e)<1e4)return e;var t=Number((Number(e)/1e4).toFixed(0)).toString(),n=t.indexOf("")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return t.replace(n,"$1,")+"万"}return""})),i.a.filter("bracketColor",(function(e){if(void 0!==e&&null!==e){if(Number(e)<1e4)return e;var t=Number((Number(e)/1e4).toFixed(0)).toString(),n=t.indexOf("")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return t.replace(n,"$1,")+"万"}return""})),i.a.use(Be["a"],{loading:n("f3f3"),error:n("f3f3")}),new i.a({render:function(e){return e(d)},beforeCreate:function(){i.a.prototype.$bus=this},router:Pe}).$mount("#app")},"4d37":function(e,t,n){"use strict";n("6eb5")},"5fad":function(e,t,n){"use strict";n("0a56")},6389:function(e,t){e.exports=VueRouter},"6eb5":function(e,t,n){},7410:function(e,t,n){},"781c":function(e,t,n){},7891:function(e,t,n){"use strict";n("fc36")},"7b9d":function(e,t,n){},"7c55":function(e,t,n){"use strict";n("2395")},"8bbf":function(e,t){e.exports=Vue},"9eae":function(e,t,n){"use strict";n("add4")},add4:function(e,t,n){},ce14:function(e,t,n){},cebe:function(e,t){e.exports=axios},d5a6:function(e,t,n){"use strict";n("127c")},f199:function(e,t,n){},f3f3:function(e,t,n){e.exports=n.p+"img/logo1.c3b81102.png"},f4e7:function(e,t,n){"use strict";n("7410")},fc36:function(e,t,n){}});
//# sourceMappingURL=app.cbbd1b87.js.map